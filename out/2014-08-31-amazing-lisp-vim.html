<!DOCTYPE html>
<html><head><title>Arne Brasseur . net</title><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><style>:where(html){--net-arnebrasseur--primary:var(--net-arnebrasseur--arapawa);--net-arnebrasseur--red-violet:#b9077e;--net-arnebrasseur--emerald:#38d07b;--net-arnebrasseur--laser-lemon:#f3f976;--net-arnebrasseur--green-onion:#78ff94;--net-arnebrasseur--secondary:var(--net-arnebrasseur--green-onion);--net-arnebrasseur--chateau-green:#1ea34c;--net-arnebrasseur--arapawa:#01095e;--net-arnebrasseur--toast:#8b6253;--net-arnebrasseur--pink-lace:#fddef4;--net-arnebrasseur--mirage:#0c182e}html{font-size:18pt}@media(min-width:60rem){html{font-size:22pt}}body{background-color:var(--net-arnebrasseur--secondary);color:var(--net-arnebrasseur--primary);max-width:48em;margin:0 auto}main{padding:0 1em}h5,h4,h2,h1,h3{font-family:'Ostrich Sans';font-weight:400}h1{font-size:3rem}</style><link rel="stylesheet" href="assets/fonts/ostrich-sans/ostrich-sans.css" /></head><body><main><article><h1>The Amazing LISP Vim</h1><aside>Published 2014-08-31 by <a href="/">Arne Brasseur</a>. <a href="https://arnebrasseur.net/2014-08-31-amazing-lisp-vim.html">(permalink)</a></aside><main><p>Why Vim users will switch to Emacs in the coming years.</p>

<p>I’ve recently stated that within the next five years half of Vim users will switch to Emacs. And while the exact time span and percentage are debatable, I stand by that statement. I think a number of factors are coming together that will make switching very appealing.</p>

<p>Editor flame wars have been around for decades. Let me do my share to fan the flames by saying this: of all modern editors, Vim has the superior editing model. The modal text-object style of editing, where few if any modifier keys are used, but instead commands are composed of keys typed in sequence is better for reasons of economy, ergonomics, and sheer expressive power.</p>

<p>Compare this with Emacs’s keybindings that will never improve, and its exclusionary culture. Let’s pick on the culture first.</p>

<p>Emacs is rooted in old-school hacker narrative. Some of the developers have been around for over three decades, and they like things just the way they are, making Emacs possibly the most closed open source project.</p>

<p>The community is filled with the type of people who yell heresy when the <code>Reply-to</code> of a mailing list goes back to the list. The type of people who moan about Eternal September ad nauseam. This feeds into the other sticking point: the keybindings will never, ever change. Out of respect for many man centuries of muscle memory, the defauts are set in stone.</p>

<p>Luckily both of these issues can be ignored. While Emacs is still being developed and evolving in interesting ways, the really exciting stuff is happening on top of Emacs. By now we have a very solid platform, and a new generation of developers is taking it to the next level.</p>

<p>Keep in mind that it’s only a configuration detail that Emacs functions as an editor. In essence it’s a VM that runs LISP. As far as UI goes you’re stuck with rectangles representing buffers, but at least they’re capable of displaying graphics and proportional text. It’s not iOS, but for building the workbench of a software developer it’s a solid base.</p>

<h2 id="the-perfect-storm">The Perfect Storm</h2>

<p>All of that isn’t new, what’s different this time around?</p>

<h3 id="evil-is-growing-up">Evil is Growing Up</h3>

<p>If Emacs’s editing model and keybindings are so atrocious, then why not reprogram it? Evil is an Emacs extension that implements Vim in Emacs. It’s been around for a while, and from what I can gather, it’s quite complete. You have all the basic editing commands, can define leader key combinations, the ex commands (the <code>:</code> prompt) are implemented. An advanced Vim user will probably find some things missing. If that’s you please do let me know what it is! I’ve been asking my Vimmy friends and so far haven’t gotten much concrete feedback.</p>

<p>For an upper intermediate user it seems Evil is more than good enough, and it’s only getting better.</p>

<p>Apart from the usual Vim modes (insert, visual, etc.) Evil also has an Emacs mode (toggled with Ctrl-Z), for using existing functionality. Although you can also just create custom bindings or leader key commands.</p>

<p>Evil has been developed since 2011, and is currently at version 1.0.9. It weighs about 30K SLOC, has over 1400 commits, and is actively maintained.</p>

<h3 id="elpamelpa">Elpa/Melpa</h3>

<p>Only recently has Emacs spawned a package manager. Before people would manually copy source files into their <code>~/.emacs.d/</code>. MELPA is a community-managed, curated repository that grows by the day. This makes it much more appealing for people to create packages, and easier for others to try them out. I feel it’s a major catalyst for innovation.</p>

<h3 id="clojure">Clojure</h3>

<p>With Clojure, for the first time in ages we have a Lisp that is actually gaining in popularity, and for good reason: it sits on top of the most advanced VM around, it has a compelling story around concurrency and parallelism, it benefits from the huge Java/JVM ecosystem. Long story short: we are gaining Lisp developers again.</p>

<p>This is great news for Emacs. Instead of having people that know just enough Lisp to solve their immediate problems, we have a new generation of developers that is capable of developing high-quality Emacs extensions. They are challenging old ways of doing things.</p>

<h3 id="emacs-revival">Emacs Revival</h3>

<p>Watch this space, Emacs is more alive than ever. Sign of the times: only in the past year Emacs user groups were founded in Berlin, London, Paris, Madrid, Bangalore, and St. Louis.</p>

<h2 id="the-perfect-setup">The Perfect Setup</h2>

<p>So it’s no secret by now: I strongly believe that where we are now, Emacs+Evil is the holy grail of editing. But if it’s just a Vim clone, why bother switching?</p>

<p>This section should really be a post in itself, but I’ll give a few reasons in brief.</p>

<h3 id="a-sensible-process-model">A Sensible Process Model</h3>

<p>While Emacs is single-threaded like Vim, you can spawn processes asynchronously and communicate with them from Elisp. No awkward hybrid scripting of Vim+Tmux; integrate your tests, REPL, compiler, linter, right into your Emacs workflow.</p>

<h3 id="org-mode">org-mode</h3>

<p>One of the coolest “apps” to be built on top of Emacs. Org-mode is plain text that fell in the cauldron of magic potion as a child. Keep todos and calendar items, do reproducible research and literate programming, manipulate tables with spreadsheet-like operations, capture links, snippets, todos, without disrupting your workflow, and have all of it in simple plain text, exportable to HTML, LaTeX, PDF, iCalendar and more.</p>

<h3 id="paredit--smartparens">Paredit / Smartparens</h3>

<p>Don’t edit text, edit syntax trees. Paredit has been around for a long time and has always been popular with Lisp programmers. Smartparens is usable for other languages as well, and once you get used to it you’ll never go back.</p>

<p>You can watch <a href="https://www.youtube.com/watch?v=D6h5dFyyUX0">this short demo</a> by <a href="https://twitter.com/emacsrocks">Emacs Rocks!</a> to get an idea.</p>

<h3 id="all-the-rest">All the rest</h3>

<p>Just some of the things that amaze the first time people see them:</p>

<p>editable-dired, expand region, multiple cursors, REPL driven development, artist-mode, tramp, magit, flycheck, the list goes on. Even Tetris.</p>

<h2 id="getting-started">Getting started</h2>

<p>There doesn’t seem to be a go-to Emacs+Evil starter kit available yet, but you don’t need much to get started.</p>

<p>You’ll need Emacs, preferably the “real” GNU Emacs, so no Aquamacs, XEmacs or NTEmacs. Try <code>emacs --version</code> to see if it’s already available on your system. You want to have at least version 24.</p>

<p>Note that pre-installed versions might not have GUI extensions compiled. This is fine for running from a terminal, but does limit things somewhat, so you might want to get a fuller version later on.</p>

<p>For Mac users, <code>brew install emacs</code> should do the trick. Debian-based systems such as Ubuntu can do <code>apt-get install emacs</code>.</p>

<p>Put this in <code>~/.emacs.d/init.el</code> (you’re allowed to use Vim for this).</p>

<pre><code class="language-elisp">(require 'package)

(setq package-archives
  '(("gnu"         . "http://elpa.gnu.org/packages/")
    ("melpa"       . "http://melpa.milkbox.net/packages/")))

(package-initialize)

(when (not (package-installed-p 'evil))
  (package-refresh-contents)
  (package-install 'evil))

(evil-mode)
</code></pre>

<p>Now simply launch <code>emacs</code>. It will install Evil on its first run, and enable it in all buffers. Use Ctrl-Z to switch back to Emacs mode if necessary.</p>

<p>Some things to try:</p>

<p>Follow the Vim tutor: <code>:edit /usr/share/vim/vim74/tutor/tutor</code>, or read the Evil manual: <code>C-h i m Evil &lt;RET&gt;</code>.</p>

<p>Enjoy your Amazing LISP Vim.</p>
</main></article></main></body></html>